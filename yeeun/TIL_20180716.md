# 크롤링

## 저작권

- CCL, 저작권 관련 조항, 라이선스 참고하기

- 왠만하면 robots.txt 존중하기

- 무단 크롤링한 자료를 사용하는 것에 대한 법적인 책임은 사용자에게 있음

- '이 행위로 인해 얼마나 손해를 봤는가'가 처벌에 중요

  

## 데이터 가져오기

- 브라우저가 하는 일: 인간을 대변(user agent)하여 명령을 HTTP로 번역, 원격 컴퓨터에 전달.  원격 컴퓨터의 HTTP 응답을 해석하여  인간에게 전달.

- 브라우저의 기능을 흉내내는 코드로 서버에 요청을 보낼 수 있음

  ~~~python
  from urllib import request
  
  url = "https://www.naver.com"
  with request.urlopen(url) as f:
      html = f.read().decode('utf-8')
      print(html)
  ~~~

- 경쟁사 상품 DB를 몰래 긁어와 자사 제품 가격 책정 등에 쓰는 일도 암암리에 일어남

- 트래픽을 과하게 발생시키면 차단먹을 수 있으니 적절히 호출 간격을 제한하자



## 마크업 

- 마크업 정보: 기존 문서에 추가적으로 문서 구조에 대한 정보 등의 정보를 기입한 것
- 마크업 언어: 마크업 정보를 컴퓨터로 일관되게 표기하기 위한 인공언어
- 마크다운: 마크업 언어의 일종. 단순한 마크업 언어. 인간의 편의성에 좀더 초점을 맞춤
- HyperText Markup Language, 마크다운



### HTML

- 어떻게 랜더링할지는 브라우저가 자의적으로 결정(약간의 오류가 있더라도 알아서 보정해줌)하거나 html 작성자가 지시
- **\<tag>**는 여는 테그,**\</tag>**는 닫는 테그
- 테그 사이에 있는 것은 element라고 총칭
- 테그는 그 안에 child|children을 지님
- 주석은 **\<!--**으로 열고 **-->**으로 닫아주세요!
- prettified 버전은 인간을 위한 것. 컴퓨터의 관점에서는 줄바꿈과 들여쓰기는 기호로 표시되지 않은 한 무의미.

~~~html
<!DOCTYPE html><!--this is html-->
<html>
    <head>
        <meta charset="utf-8"><!--metatag: 처음에 나오는 것이 좋다-->
        <title>'돌아온' 오늘 MBC 뉴스의 첫 앵커 멘트는 '사과'였다</title>
    </head>
    <body>    
        <h1>'돌아온' 오늘 MBC 뉴스의 첫 앵커 멘트는 '사과'였다</h1>
        <p>2017년 12월 08일 15시 27분, 허완 기자, 허핑턴포스트코리아</p>
        <blockquote>
            <p>“저희 MBC는 신임 최승호 사장의 취임에 맞춰, 오늘(8일)부터 뉴스데스크 앵커를 교체하고 당분간 뉴스를 임시체제로 진행합니다. 저희들은 재정비 기간 동안 MBC 보도가 시청자 여러분께 남긴 상처들을 거듭 되새기며, 철저히 반성하는 시간을 갖겠습니다.</p>
        	<p>치밀한 준비를 거쳐 빠른 시일 안에 정확하고 겸손하고 따뜻한 뉴스데스크로 시청자 여러분께 다시 인사드리겠습니다.</p>
        </blockquote>       
        <p>8일 저녁 8시, MBC 메인뉴스인 '뉴스데스크' 대신 'MBC뉴스'라는 타이틀로 방송된 뉴스에서 임시 앵커를 맡은 김수지 아나운서는 짤막한 사과문을 읽어내려갔다.</p>
    </body>
</html>
~~~

#### DOM 트리 구성하기

- Document Object Model 트리: html을 분석(parsing)하여 예쁜 나무구조로 만든 것. child, parent 등의 개념을 추가, 태그의 기능을 분석함.
- 브라우저의 개발자 도구에서 지원해주기도 함
- 근데 난 beautifulsoup를 더 좋아함



**과제 알림 (수요일 저녁까지) 5m과제. 오늘 배운 내용을 참고하여 다음 요구사항을 구현하는 노트북 파일을 만들고 과제 폴더에 공유하세요.**  

- 내가 평소 자주 가는 사이트에서 **원하는 정보만 추출하여 화면에 출력**(print 함수)하세요.
- 반드시 robots.txt와 사이트 저작권 정책을 살펴보고 정책에 위반되지 않도록 주의해주세요.

선택과제. (과제1을 하고 시간이 남으면) 원하는 정보를 추출한 결과를 잘 정리하여 판다스 **DataFrame에** 담아보세요.



