#### 2018.07.24.데잇걸즈 TWL : 정규표현식



- 지금까지 배운 것들
  - 파이썬 문법
    - 문법은 모든 라이브러리에서 동일
    - 라이브러리 별로 타입, 함수의 차이가 있음
  - 라이브러리
    - 분야별로 끊임없이 개발되며, 계속 공부해야 함
    - Numpy, Pandas, Scipy 등
    - 실력 = 새로운 라이브러리 빨리 익히는 방법, 원하는 정보의 검색 요령
  - 파이썬 안에서 실행되는 '미니 언어'들
    - 특정 형식의 문자열을 특정 함수의 인자로 넘겨주면 무언가가 실행됨
    - 거의 모든 언어에서 동일한 미니 언어가 지원됨 = 한 번 배우면 어디서나 사용 가능
    - CSS Selector, 정규표현식 등
  - 알고리즘 / 자료구조
    - 컴퓨터한테 내가 원하는 일을 효율적으로 시키기
    - 대부분의 중요한 알고리즘은 개발되어 있고, 자주 쓰이는 알고리즘은 매번 비슷함.
    - 본격적으로 프로그래밍을 하고 싶다면, 공부해야 함.
  - 확률/통계
    - 모든 프로그래밍의 기초. 가장 중요한 기초.
  - 기타 : HTTP, Networking, 운영체제론 등



- 실무 이야기 (A/B 테스트)

  - A/B 테스트 = RTC (Randomized Controlled Experiment)

  - Type I Error : 영향이 없는데 있는 것으로 판명하는 오류 (False Positive)
  - Type II Error : 영향이 있는데 없는 것으로 판명하는 오류 (False Negative)
  - 일반적으로 Type I을 좀 더 조심해야 함
  - 하지만, 민감도가 중요한 경우는 Type II를 좀 더 줄여야 함 (Ex. 화재경보기)
  - 통계적으로 유의미한 차이
  - 통계적으로 유의하지만 효과 크기가 작은 경우



- 컴퓨터는 한글을 어떻게 처리하나?
  - 이진법 체계
  - ASCII 코드
  - 문제적 문화권 : 한국, 일본, 중국 (& Write to Left 문화권)
  - KSC 5601 → 유니코드 테이블 (UTF-8)
  - EUC-KR vs. UTF-8 : UTF-8을 추천



- 정규표현식 (Regex : Regular Expression)

  - 패턴을 정의하는 언어

  - 형식 언어(Regular Language)의 문법을 기술하는 표현식(Expression)

    - 형식 언어 
      1. 유한한 알파벳 집합, 문법을 기술하는 유한한 규칙에 의해 생성되는 문자열의 집합
      2. 알파벳/규칙은 유한하지만 만들어지는 문자열 집합의 크기는 무한할 수 있음

  - 구글 문서, 엑셀, 파이썬, 자바스트립트, 거의 모든 편집기 등에 다 있음

  - 파이썬의 raw string 리터럴 : 날(raw) 단어로 만들어서 작업 → 이스케이핑 필요 X

  - 정규표현식 실습 사이트 : [regex101.com](https://regex101.com/), [regexper.com](https://regexper.com)

  - 종류

    - 일반 문자열

    - 메타캐릭터 

      1. 문장의 시작 : ^
      2. 문장의 끝 : $
      3. 아무거나 한 글자 : .
      4. 아무 숫자 한 글자 : \d
      5. 숫자가 아닌 아무거나 한 글자 : \D
      6. 공백 한 칸 : \s
      7. 공백이 아닌 아무거나 한 글자 : \S
      8. 단어의 경계 (띄어쓰기 기준의, 한국어 '어절' 같은 기준) : \b

    - 이스케이프 : \

    - 캐릭터 클래스 : []

    - 캐릭터 클래스 메타캐릭터 (대괄호 안의 범위를 모두 검색) : [시작 - 끝]

    - 얼터레이션 : (....│....│....) → 얼터레이션 안에 얼터레이션을 중첩할 수 있음 (재귀)

    - 양화사(quantifier)

      1. 0개 or 1개 (= 있거나, 혹은 없거나) : ?
      2. 0개 이상 : *
      3. 1개 이상 : +
      4. 정확한 갯수 지정 : {갯수}
      5. 정확한 갯수 지정 (선택지가 2개) : {갯수, 갯수}

    - Capture group : (...) → 전체를 기준으로 찾은 후 괄호 안에 있는 부분만 뽑아내기

    - Capture group의 인덱스 번호 : \번호

      ~~~
      For Example.
      
      1. Test Case : \b[1-9]\d{0,2}(,\d{3})*원.+손해
      
      2. Should match :
      - 나는 5,000원을 손해봤다.
      - 나는 5원을 손해봤다.
      - 나는 50원을 손해봤다.
      - 나는 500원을 손해봤다.
      - 나는 1,135,000,000
      
      3. Shouldn't match :
      - 나는 삼각형,사각형,원을 손해봤다.
      - 나는 삼각형,비타5,원을 손해봤다.
      - 5,00원을 손해봤다.
      
      4. Nice to have :
      - 5백만원을 손해봤다.
      ~~~

      ~~~
      For Example 2. 모든 이메일에 매칭 되는 패턴 만들기
      
      \w[\w\+\.]*@\w+(\.\w+)+
      ~~~

    - Greedy

      1. 정규표현식이 두 가지 이상의 선택지를 가진 모호한 경우
      2. 최대한 욕심을 내서 처리함 (= Greedy)
      3. Default option : Greedy
      4. Non-Greedy 하게 바꿔주는 정규표현식(Non-Greedy Quantifier) : *?, +?



- 과제 (~7/29)
  - 필수 : [Regexone](https://regexone.com/lesson/introduction_abcs) 문제 풀고, 각 단계별 정규표현식 정리한 ipynb 파일 만들기
  - 선택 : 청와대 국민청원 사이트 카테고리 개선안 제안
